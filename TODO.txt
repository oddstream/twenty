are cells even required?
why not piles?
tile wants to be at x = margin + pile pos
with margin=10 and pileWidth=100
pos 255 is pile 255-10=245, 245/100=2
pos 45 is pile 45-10/100=0
then pile is just a number, not a struct
gravity just drops each tile while the bottom of it's outerbox is > top of box below on same pile
can then use easeInout for vertical, smoothstep for horz

don't need gravity
because AT MOST one tile will be falling
and the tile under it will ALWAYS be static
need to know if each tile has a tile immediately under it
and lerp if not

under gravity, each tile moves down
unless tile is at bottom of grid
or if there is no tile below
so gravity needs to work from bottom up
so tiles need to be sorted into descending pos.Y order first eg y=300 200 100

tiles can fall under gravity with acceleration, not just one pixel per tick
const gravity = 9.8
object.velocity += gravity * float64(step)
object.position += object.velocity * float64(step)
until they get to bottom of grid
or intersect with another tile
if that tile has same value, merge, else go back up and stop

helper functions:
	func getTiles(pile int) []*Tile
	sort []*Tile into ascending/decending pos.Y order
	reposition tiles (after layout)
	getFooterTiles() []*Tile
	getHeaderTiles() []*Tile
	calcColumn
	0    1      2      3
	0    100    200    300
    column = math.Round(pos.X / tileWidth)

cube.Position.X = Math.round(cube.Position.X / gridCubeWidth) * gridCubeWidth;
175 / 100 * 100 =



moves
	onto empty cell
	onto tile with same value
happens in strokeStop
strokeMOve should just do bounds checking

[X] stop dragging outside grid
[ ] stop dragging through other tiles
[X] sounds (detect combos)
[ ] undo stack
[ ] timer-bar
[ ] link_lr and link_ud (rounded rects) starting at level 10
[X] where is http://twenty.frenchguys.net/twenty-engine.js from? emscripten?
[X] where is http://twenty.frenchguys.net/twenty-minified.js from?

[ ] easing
	http://twenty.frenchguys.net/twenty-game.js uses easeInOut

function easeInOut(t) {
	if (t<0.5) {
		return t*t*2;
	} else {
		return 1-(1-t)*(1-t)*2;
	}
}

function interpolate(from,to,t) {
	return from+(to-from)*t;
}

function drawParticles(frame, pos) {
		var x=150*(frame%6);
		var y=150*((frame/6)|0);
		canvas.drawImage(gfx.particles,x,y,150,150,
			pos.x-75, pos.y-37, 150, 150);
	}

[X] two-way map to link *Cell and *Tile
[X] insert new row at bottom
[X] list of merged tile values
[X] start with 2 rows of random 1 .. 3
[X] repeat Tile.lerpTo not working
[X] func check integrity
[X] Tile
[X] Draw some tiles
[X] Drag and drop tiles
